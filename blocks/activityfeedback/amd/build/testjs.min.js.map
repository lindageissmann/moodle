{"version":3,"sources":["../src/testjs.js"],"names":["init","rootpath","window","console","log","elem","document","getElementById","innerHTML","activities","getElementsByClassName","activity","activityInstance","container","createElement","className","figureMain","imgMain","src","alt","coursemoduleid","id","substring","setAttribute","figCaptMain","textContent","append","appendChild","afbtns","btn","addEventListener","cmid","getAttribute","setFeedback"],"mappings":"yoCAUoB,QAAPA,CAAAA,IAAO,CAACC,CAAD,CAAc,CAC9BC,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmB,mCAAnB,EACAF,MAAM,CAACC,OAAP,CAAeC,GAAf,iBAA4BH,CAA5B,eAGA,GAAMI,CAAAA,CAAI,CAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAb,CACAL,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBC,CAAI,CAACG,SAAxB,EAN8B,GAQxBC,CAAAA,CAAU,CAAGH,QAAQ,CAACI,sBAAT,CAAgC,UAAhC,CARW,KASPD,CATO,QAS9B,2BACA,IADWE,CAAAA,CACX,SACQC,CAAgB,CAAGD,CAAQ,CAACD,sBAAT,CAAgC,kBAAhC,EAAoD,CAApD,CAD3B,CAEQG,CAAS,CAAGP,QAAQ,CAACQ,aAAT,CAAuB,KAAvB,CAFpB,CAGID,CAAS,CAACE,SAAV,CAAsB,kCAAtB,CAHJ,GAKQC,CAAAA,CAAU,CAAGV,QAAQ,CAACQ,aAAT,CAAuB,QAAvB,CALrB,CAMQG,CAAO,CAAGX,QAAQ,CAACQ,aAAT,CAAuB,KAAvB,CANlB,CAOIG,CAAO,CAACF,SAAR,CAAoB,sBAApB,CACAE,CAAO,CAACC,GAAR,CAAcjB,CAAQ,CAAG,2CAAzB,CACAgB,CAAO,CAACE,GAAR,CAAc,iBAAd,CACA,GAAMC,CAAAA,CAAc,CAAIT,CAAQ,CAACU,EAAV,CAAcC,SAAd,CAAwB,CAAxB,CAAvB,CACAL,CAAO,CAACM,YAAR,CAAqB,WAArB,CAAkCH,CAAlC,EACA,GAAII,CAAAA,CAAW,CAAGlB,QAAQ,CAACQ,aAAT,CAAuB,YAAvB,CAAlB,CACAU,CAAW,CAACC,WAAZ,CAA0B,UAA1B,CACAT,CAAU,CAACU,MAAX,CAAkBT,CAAlB,CAA2BO,CAA3B,EACAX,CAAS,CAACa,MAAV,CAAiBV,CAAjB,EACAJ,CAAgB,CAACe,WAAjB,CAA6Bd,CAA7B,CACH,CA3B6B,kCA4B1Be,CAAAA,CAAM,CAAGtB,QAAQ,CAACI,sBAAT,CAAgC,sBAAhC,CA5BiB,KA6BdkB,CA7Bc,QA6B9B,2BAAwB,IAAfC,CAAAA,CAAe,SACpBA,CAAG,CAACC,gBAAJ,CAAqB,OAArB,CAA8B,UAAY,CACtC,GAAMC,CAAAA,CAAI,CAAG,KAAKC,YAAL,CAAkB,WAAlB,CAAb,CACAC,CAAW,CAACF,CAAD,CACd,CAHD,CAIH,CAlC6B,+BAmCjC,C,CACD,QAASE,CAAAA,CAAT,CAAqBF,CAArB,CACA,CACI7B,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmB2B,CAAnB,CACH,C","sourcesContent":["//https://docs.moodle.org/dev/Javascript_Modules\n//only functions which are exported will be callable from outside the module\n//if the size of the params array is too large (> 1Kb), this will produce a developer warning. Do not attempt\n//to pass large amounts of data through this function, it will pollute the page size.\n//A preferred approach is to pass css selectors for DOM elements that contain data-attributes for any required data,\n//or fetch data via ajax in the background.\n//https://moodle.org/mod/forum/discuss.php?d=378112#p1524459\n//import jQuery from 'jquery';\n//----import * as Str from 'core/str';\n//import Ajax from 'core/ajax';\nexport const init = (rootpath) => {\n    window.console.log('we have been started_blabla_linda');\n    window.console.log(`hello ${rootpath} , warum?`);\n    //window.console.log(Str.get_string('defaulttext','block_activityfeedback'));\n    //alert(`guten tag ${first}`); //fkt. ohne import jquery\n    const elem = document.getElementById(\"module-1\");\n    window.console.log(elem.innerHTML);\n    //const elems = document.querySelectorAll('[id^=module-]');\n    const activities = document.getElementsByClassName(\"activity\");\n    for (const activity of activities)\n    {\n        let activityInstance = activity.getElementsByClassName(\"activityinstance\")[0];\n        let container = document.createElement(\"div\");\n        container.className = \"block_activityfeedback_container\";\n        //node.classList.add('MyClass');\n        let figureMain = document.createElement(\"figure\");\n        let imgMain = document.createElement(\"img\");\n        imgMain.className = \"activityfeedback_btn\";\n        imgMain.src = rootpath + \"/blocks/activityfeedback/pix/thumbsup.png\";\n        imgMain.alt = \"feedback button\";\n        const coursemoduleid = (activity.id).substring(7); //xx holen aus id=module-xx\n        imgMain.setAttribute(\"data-cmid\", coursemoduleid);\n        let figCaptMain = document.createElement(\"figcaption\");\n        figCaptMain.textContent = \"Feedback\";\n        figureMain.append(imgMain, figCaptMain);\n        container.append(figureMain);\n        activityInstance.appendChild(container);\n    }\n    let afbtns = document.getElementsByClassName(\"activityfeedback_btn\");\n    for (let btn of afbtns) {\n        btn.addEventListener('click', function () {\n            const cmid = this.getAttribute(\"data-cmid\");\n            setFeedback(cmid);\n        });\n    }\n};\nfunction setFeedback(cmid)\n{\n    window.console.log(cmid);\n}"],"file":"testjs.min.js"}
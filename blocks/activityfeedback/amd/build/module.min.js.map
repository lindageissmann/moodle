{"version":3,"sources":["../src/module.js"],"names":["init","args","userid","parseInt","courseid","rootPath","rootpath","displayPictures","window","console","log","Ajax","call","methodname","done","pixData","activities","document","getElementsByClassName","activity","activityInstance","courseModuleId","id","substring","container","createElement","className","setAttribute","figureMain","imgMain","src","figCaptMain","append","num","figureOpt","length","imgOpt","url","alt","name","key","figCaptOpt","textContent","appendChild","fbMainBtns","btn","addEventListener","cmId","getAttribute","openFeedback","fbBtns","classList","add","cmid","fbid","fbname","setFeedback","getFeedback","fail","notification","exception","fbData","fbItem","querySelector","fbPix","querySelectorAll","pix","remove","func","require","ajax","promises","component","stringid","response","ex"],"mappings":"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","sourcesContent":["//https://docs.moodle.org/dev/Javascript_Modules\n//only functions which are exported will be callable from outside the module\n//if the size of the params array is too large (> 1Kb), this will produce a developer warning. Do not attempt\n//to pass large amounts of data through this function, it will pollute the page size.\n//A preferred approach is to pass css selectors for DOM elements that contain data-attributes for any required data,\n//or fetch data via ajax in the background.\n//https://moodle.org/mod/forum/discuss.php?d=378112#p1524459\n// zwar veraltet, aber camel case hier ok: https://docs.moodle.org/dev/Javascript/Coding_Style\n// (auch in Bsp benutzt: https://docs.moodle.org/dev/Javascript_Modules)\n//todolig auf camelCase umstellen\n//import $ from 'jquery';\n//import jquery from 'jquery';\n//import * as Str from 'core/str';\nimport Ajax from 'core/ajax';\n//import {exception as displayError} from 'core/notification';\nimport notification from 'core/notification';\n//define(['jquery', 'core/ajax', 'core/notification']);\nexport const init = (args) => {\n    const userid = parseInt(args.userid);\n    const courseid = parseInt(args.courseid);\n    const rootPath = args.rootpath;\n    //const elems = document.querySelectorAll('[id^=module-]');\n    //warum fkt. hier jquery?\n    //jquery: .done(), .success, .fail, .always\n    //.then, .when\n    displayPictures(rootPath, courseid, userid);\n    //getFeedback(courseid, userid); // todolig! gibt hier race condition, dass getFeedback end done noch vor displayPict start done\n};\n\nfunction displayPictures(rootPath, courseid, userid)\n{\n    window.console.log(\"displayPictures: start\");\n    Ajax.call([\n        {\n            methodname: 'block_activityfeedback_get_pix_data',\n            args: {},\n            done: function (pixData) {\n                window.console.log(\"displayPictures: start done\");\n                const activities = document.getElementsByClassName(\"activity\");\n                for (const activity of activities)\n                {\n                    let activityInstance = activity.getElementsByClassName(\"activityinstance\")[0];\n                    // check if exists, because e.g. activity 'label' has no <div> child element with class 'activityinstance'\n                    if(activityInstance !== undefined && activityInstance !== null) {\n                        const courseModuleId = (activity.id).substring(7); // extract xx from id=module-xx\n                        let container = document.createElement(\"figure\");\n                        container.className = \"block_activityfeedback_container\";\n                        container.setAttribute(\"data-cmid\", courseModuleId);\n                        //node.classList.add('MyClass');\n                        // main button for feedback\n                        let figureMain = document.createElement(\"figure\");\n                        let imgMain = document.createElement(\"img\");\n                        imgMain.className = \"block_activityfeedback_btn_main\";\n                        imgMain.src = rootPath + \"/blocks/activityfeedback/pix/thumbsup.png\";\n                        //imgMain.alt = Str.get_string('activityfeedback', 'block_activityfeedback'); //todolig\n                        imgMain.setAttribute(\"data-cmid\", courseModuleId);\n                        let figCaptMain = document.createElement(\"figcaption\");\n                        //figCaptMain.textContent = Str.get_string('activityfeedback', 'block_activityfeedback');\n                        //window.console.log(Str.get_string('activityfeedback', 'block_activityfeedback'));\n                        //window.console.log(formal);\n                        figureMain.append(imgMain, figCaptMain);\n                        container.append(figureMain);\n                        // feedback buttons for option 1 to max. 7, max. number of elements is given by length of pixData array\n                        for (let num = 1; num <= 7 && num <= pixData.length; num++) {\n                            let figureOpt = document.createElement(\"figure\");\n                            figureOpt.id = \"figureopt\" + num;//todolig\n                            let imgOpt = document.createElement(\"img\");\n                            imgOpt.className = \"block_activityfeedback_btn\";\n                            imgOpt.src = pixData[num - 1].url;\n                            imgOpt.alt = pixData[num - 1].name;\n                            imgOpt.setAttribute(\"data-cmid\", courseModuleId);\n                            imgOpt.setAttribute(\"data-fbid\", pixData[num - 1].key);\n                            imgOpt.setAttribute(\"data-fbname\", pixData[num - 1].name);\n                            let figCaptOpt = document.createElement(\"figcaption\");\n                            figCaptOpt.textContent = pixData[num - 1].name;\n                            figureOpt.append(imgOpt, figCaptOpt);\n                            container.append(figureOpt);\n                        }\n                        activityInstance.appendChild(container);\n                    }\n                }\n                // main buttons for feedbacks\n                // (= neutral button which is shown before any feedback button is chosen)\n                let fbMainBtns = document.getElementsByClassName(\"block_activityfeedback_btn_main\");\n                for (let btn of fbMainBtns) {\n                    btn.addEventListener('click', function () {\n                        const cmId = this.getAttribute(\"data-cmid\");\n                        openFeedback(cmId);\n                    });\n                }\n                // feedback buttons\n                let fbBtns = document.getElementsByClassName(\"block_activityfeedback_btn\");\n                for (let btn of fbBtns) {\n                    btn.addEventListener('click', function () {\n                        // for fast reaction, todolig pruefen\n                        //this.classList.remove(\"block_activityfeedback_not_selected\");\n                        this.classList.add(\"block_activityfeedback_selected\");\n\n                        const cmid = this.getAttribute(\"data-cmid\");\n                        const fbid = this.getAttribute(\"data-fbid\");\n                        const fbname = this.getAttribute(\"data-fbname\");\n                        setFeedback(cmid,fbid,fbname,courseid,userid);\n                    });\n                }\n                // muss hier im done sein, weil sonst evtl. Attribut nicht gefunden wird!\n                getFeedback(courseid, userid);\n                //});\n                window.console.log(\"displayPictures: end done\");\n            }, //).catch(Notification.exception); //\n            fail: notification.exception\n            //todolig: unklar wann .fail/.catch, wann hier mit Doppelpunkt\n        }\n    ]);\n    window.console.log(\"displayPictures: end\");\n}\nfunction getFeedback(courseid, userid)\n{\n    window.console.log(\"getFeedback: start\");\n    Ajax.call([\n        {\n            methodname: 'block_activityfeedback_get_feedback_data',\n            args: {\n                courseid: courseid\n            },\n            done: function (fbData) {\n                window.console.log(\"getFeedback: start done\");\n\n                //https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\n                //ajaxResult0.forEach(function(fbitem) {\n                //siehe generell als Tipp: https://www.learningrobo.com/2021/10/modern-feedback-form-using-html-css.html\n                for (const fbItem of fbData) {\n                    if(fbItem.userid === userid)\n                    {\n                        let container=document.querySelector(`figure.block_activityfeedback_container[data-cmid=\"${fbItem.cmid}\"]`);\n                        //container sollte es nur 1 geben mit dieser id\n                        // document.getElementsByClassName(\"block_activityfeedback_container\")\n                        // let fbnotselected = container.getElementsByClassName(\"block_activityfeedback_btn\")\n                        //     .not(`[data-fbid=\"{fbitem.fbid}\"]`);\n                        // //todolig: zuerst entfernen\n                        // fbnotselected.classList.remove(\"block_activityfeedback_selected\");\n                        // fbnotselected.classList.add(\"block_activityfeedback_not_selected\");\n                        // let fbselected = container.getElementsByClassName(\"block_activityfeedback_btn\")\n                        //     .querySelector(`[data-fbid=\"{fbitem.fbid}\"]`);\n\n                        // statt hinzu/entfernen mit toggle: x.classList.toggle(\"fa-thumbs-down\");\n                        //https://www.w3schools.com/howto/howto_js_toggle_like.asp\n                        if(container !== undefined && container !== null) { // needed if course_module was deleted\n                            let fbPix = container.querySelectorAll(\"img.block_activityfeedback_btn\");\n\n                            for (let pix of fbPix) {\n                                if(pix.getAttribute(\"data-fbid\") == fbItem.fbid) {\n                                    window.console.log(\"pix true\");\n                                    pix.classList.remove(\"block_activityfeedback_not_selected\");\n                                    pix.classList.add(\"block_activityfeedback_selected\");\n                                }\n                                else {\n                                    window.console.log(\"pix false\");\n                                    pix.classList.remove(\"block_activityfeedback_selected\");\n                                    pix.classList.add(\"block_activityfeedback_not_selected\");\n                                }\n                            }\n                    // let fbSelected = container.querySelector(`img.block_activityfeedback_btn[data-fbid=\"${fbItem.fbid}\"]`);\n                            // fbSelected.classList.remove(\"block_activityfeedback_not_selected\");\n                            // fbSelected.classList.add(\"block_activityfeedback_selected\");\n                        }\n                    }\n                }//);\n                window.console.log(\"getFeedback: end done\");\n            },\n            fail: notification.exception\n            //todolig: unklar wann .fail/.catch, wann hier mit Doppelpunkt\n        }\n    ]);\n    window.console.log(\"getFeedback: end\");\n}\nfunction openFeedback(cmid)\n{\n    window.console.log(\"openFeedback\");\n    window.console.log(cmid);\n    //siehe https://docs.moodle.org/dev/Web_service_API_functions\n    //mod_data für DB-Zugriffe, aber nicht via Ajax:( z.B. mod_data_add_entry\n}\nfunction setFeedback(cmid,fbid,fbname,courseid,userid)\n{\n    window.console.log(\"setFeedback: start\");\n    //siehe https://docs.moodle.org/dev/Web_service_API_functions\n    //mod_data für DB-Zugriffe, aber nicht via Ajax:( z.B. mod_data_add_entry\n\n    Ajax.call([\n        {\n            methodname: 'block_activityfeedback_set_feedback_data',\n            args: {\n                func: 'insert',\n                cmid: cmid, //event.data.moduleId,\n                fbid: fbid,//event.data.reactionSelect,\n                fbname: fbname\n            },\n            done: function () {\n                window.console.log(\"setFeedback: start done\");\n                getFeedback(courseid,userid);\n                window.console.log(\"setFeedback: end done\");\n            },\n            fail: notification.exception\n            //todolig: unklar wann .fail/.catch, wann hier mit Doppelpunkt\n        }\n    ]);\n    window.console.log(\"setFeedback: end\");\n}\n//todolig: fuer str.get_string, fkt. zwar, aber gibt neu davor Exception: testjs.js:1 Uncaught undefined\n// https://docs.moodle.org/dev/Useful_core_Javascript_modules#Language_strings_.28core.2Fstr.29\n// require(['core/str'], function(str) {\n//     // start retrieving the localized string; store the promise that some time in the future the string will be there.\n//     var editaPresent = str.get_string('activityfeedback', 'block_activityfeedback');\n//     // as soon as the string is retrieved, i.e. the promise has been fulfilled,\n//     // edit the text of a UI element so that it then is the localized string\n//     // Note: $.when can be used with an arbitrary number of promised things\n//     jQuery.when(editaPresent).done(function(localizedEditString) {\n//         window.console.log(localizedEditString);\n//     });\n// });\n\n//https://docs.moodle.org/dev/AJAX\nrequire(['core/ajax'], function(ajax) {\n    var promises = ajax.call([\n        {methodname: 'core_get_string', args: {component: 'block_activityfeedback', stringid: 'activityfeedback'}}\n    ]);\n\n    promises[0].done(function (response) {\n        window.console.log('block_activityfeedback/activityfeedback is' + response);\n    }).fail(function (ex) {\n        window.console.log(ex);// do something with the exception\n    });\n});\n\n//https://docs.moodle.org/dev/Javascript_Modules\n//const formal = () => Str.get_string('activityfeedback', 'block_activityfeedback', '');"],"file":"module.min.js"}